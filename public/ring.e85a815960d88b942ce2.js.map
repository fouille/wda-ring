{"version":3,"file":"ring.e85a815960d88b942ce2.js","mappings":"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","sources":["webpack://wda-ring/./node_modules/events/events.js","webpack://wda-ring/webpack/bootstrap","webpack://wda-ring/webpack/runtime/compat get default export","webpack://wda-ring/webpack/runtime/define property getters","webpack://wda-ring/webpack/runtime/global","webpack://wda-ring/webpack/runtime/hasOwnProperty shorthand","webpack://wda-ring/webpack/runtime/publicPath","webpack://wda-ring/./node_modules/@wazo/euc-plugins-sdk/lib/esm/constants.js","webpack://wda-ring/./node_modules/@wazo/euc-plugins-sdk/lib/esm/app.js","webpack://wda-ring/./node_modules/@wazo/euc-plugins-sdk/lib/esm/softphone.js","webpack://wda-ring/./node_modules/i18next/dist/esm/i18next.js","webpack://wda-ring/./ring.js"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// Global\nexport const EVENT_ON_LOADED = 'wazo/ON_LOADED';\nexport const EVENT_APP_UNLOADED = 'wazo/EVENT_APP_UNLOADED';\nexport const EVENT_PLUGIN_UNLOADED = 'wazo/EVENT_PLUGIN_UNLOADED';\nexport const EVENT_APP_INITIALIZE = 'wazo/EVENT_APP_INITIALIZE';\nexport const EVENT_ON_LOGOUT = 'wazo/EVENT_ON_LOGOUT';\nexport const EVENT_SEND_IFRAME_MESSAGE = 'wazo/EVENT_SEND_IFRAME_MESSAGE';\nexport const EVENT_SEND_BACKGROUND_MESSAGE = 'wazo/EVENT_SEND_BACKGROUND_MESSAGE';\nexport const EVENT_ON_IFRAME_MESSAGE = 'wazo/EVENT_ON_IFRAME_MESSAGE';\nexport const EVENT_ON_BACKGROUND_MESSAGE = 'wazo/EVENT_ON_BACKGROUND_MESSAGE';\n// WDA\nexport const EVENT_CLOSE_LEFT_PANEL = 'wazo/EVENT_CLOSE_LEFT_PANEL';\nexport const EVENT_OPEN_LEFT_PANEL = 'wazo/EVENT_OPEN_LEFT_PANEL';\nexport const EVENT_START_CALL = 'wazo/START_CALL';\nexport const EVENT_ON_CALL_INCOMING = 'wazo/EVENT_ON_CALL_INCOMING';\nexport const EVENT_ON_CALL_MADE = 'wazo/EVENT_ON_CALL_MADE';\nexport const EVENT_ON_CALL_ANSWERED = 'wazo/EVENT_ON_CALL_ANSWERED';\nexport const EVENT_ON_CALL_ACCEPTED = 'wazo/EVENT_ON_CALL_ACCEPTED';\nexport const EVENT_ON_CALL_HUNG_UP = 'wazo/EVENT_ON_CALL_HUNG_UP';\nexport const EVENT_OPEN_LINK = 'wazo/EVENT_OPEN_LINK';\nexport const EVENT_CREATE_MEETING = 'wazo/EVENT_CREATE_MEETING';\nexport const EVENT_OPEN_MEETING_LOBBY = 'wazo/EVENT_OPEN_MEETING_LOBBY';\nexport const EVENT_OPEN_SETTINGS = 'wazo/EVENT_OPEN_SETTINGS';\nexport const EVENT_ON_MEETING_CREATED = 'wazo/EVENT_ON_MEETING_CREATED';\nexport const EVENT_ROUTE_CHANGE = 'wazo/EVENT_ROUTE_CHANGE';\nexport const EVENT_WS_MESSAGE = 'wazo/EVENT_WS_MESSAGE';\nexport const EVENT_PLAY_PROGRESS_SOUND = 'wazo/EVENT_PLAY_PROGRESS_SOUND';\nexport const EVENT_PLAY_NEW_MESSAGE_SOUND = 'wazo/EVENT_PLAY_NEW_MESSAGE_SOUND';\nexport const EVENT_PLAY_INCOMING_CALL_SOUND = 'wazo/EVENT_PLAY_INCOMING_CALL_SOUND';\nexport const EVENT_PLAY_DOUBLE_CALL_SOUND = 'wazo/EVENT_PLAY_DOUBLE_CALL_SOUND';\nexport const EVENT_PLAY_HANGUP_SOUND = 'wazo/EVENT_PLAY_HANGUP_SOUND';\nexport const EVENT_STOP_CURRENT_SOUND = 'wazo/EVENT_STOP_CURRENT_SOUND';\nexport const EVENT_CONFIGURE_SOUNDS = 'wazo/EVENT_CONFIGURE_SOUNDS';\nexport const EVENT_RESET_SOUNDS = 'wazo/EVENT_RESET_SOUNDS';\nexport const EVENT_DISPLAY_NOTIFICATION = 'wazo/EVENT_DISPLAY_NOTIFICATION';\nexport const EVENT_CHANGE_NAVBAR_COLOR = 'wazo/EVENT_CHANGE_NAVBAR_COLOR';\nexport const EVENT_RESET_NAVBAR_COLOR = 'wazo/EVENT_RESET_NAVBAR_COLOR';\nexport const EVENT_DISPLAY_MODAL = 'wazo/EVENT_DISPLAY_MODAL';\nexport const EVENT_REMOVE_MODAL = 'wazo/EVENT_REMOVE_MODAL';\nexport const EVENT_USER_JOIN_ROOM = 'wazo/EVENT_USER_JOIN_ROOM';\nexport const EVENT_USER_LEAVE_ROOM = 'wazo/EVENT_USER_LEAVE_ROOM';\nexport const EVENT_PARTICIPANT_JOIN_ROOM = 'wazo/EVENT_PARTICIPANT_JOIN_ROOM';\nexport const EVENT_PARTICIPANT_LEAVE_ROOM = 'wazo/EVENT_PARTICIPANT_LEAVE_ROOM';\nexport const EVENT_IGNORE_CALL = 'wazo/EVENT_IGNORE_CALL';\nexport const EVENT_ON_NEW_SESSION = 'wazo/EVENT_ON_NEW_SESSION';\nexport const EVENT_UPDATE_BADGE = 'wazo/EVENT_UPDATE_BADGE';\n// Portal\nexport const EVENT_ON_CONNECTED_TO_STACK = 'wazo/EVENT_ON_CONNECTED_TO_STACK';\nexport const EVENT_ON_SWITCH_STACK_TENANT = 'wazo/EVENT_ON_SWITCH_STACK_TENANT';\nexport const EVENT_CHANGE_TOOLBAR_DISPLAY = 'wazo/EVENT_CHANGE_TOOLBAR_DISPLAY';\n// Mobile\nexport const EVENT_MOBILE_HEADER = 'wazo/mobile/EVENT_MOBILE_HEADER';\nexport const EVENT_MOBILE_CONTEXTUAL_MENU = 'wazo/mobile/EVENT_MOBILE_CONTEXTUAL_MENU';\nexport const EVENT_MOBILE_SHOW_BOTTOM_NAV = 'wazo/mobile/EVENT_MOBILE_SHOW_BOTTOM_NAV';\nexport const EVENT_MOBILE_ON_MENU_ACTION = 'wazo/mobile/EVENT_MOBILE_ON_MENU_ACTION';\nexport const EVENT_MOBILE_ON_HEADER_BACK = 'wazo/mobile/EVENT_MOBILE_ON_HEADER_BACK';\n","import { EVENT_ON_LOADED, EVENT_APP_UNLOADED, EVENT_PLUGIN_UNLOADED, EVENT_APP_INITIALIZE, EVENT_ON_LOGOUT, EVENT_SEND_IFRAME_MESSAGE, EVENT_SEND_BACKGROUND_MESSAGE, EVENT_ON_IFRAME_MESSAGE, EVENT_ON_BACKGROUND_MESSAGE, EVENT_CLOSE_LEFT_PANEL, EVENT_OPEN_LEFT_PANEL, EVENT_START_CALL, EVENT_ON_CALL_INCOMING, EVENT_ON_CALL_MADE, EVENT_ON_CALL_ANSWERED, EVENT_ON_CALL_ACCEPTED, EVENT_ON_CALL_HUNG_UP, EVENT_OPEN_LINK, EVENT_CREATE_MEETING, EVENT_OPEN_MEETING_LOBBY, EVENT_ON_MEETING_CREATED, EVENT_ROUTE_CHANGE, EVENT_WS_MESSAGE, EVENT_PLAY_PROGRESS_SOUND, EVENT_PLAY_NEW_MESSAGE_SOUND, EVENT_PLAY_INCOMING_CALL_SOUND, EVENT_PLAY_DOUBLE_CALL_SOUND, EVENT_PLAY_HANGUP_SOUND, EVENT_STOP_CURRENT_SOUND, EVENT_CONFIGURE_SOUNDS, EVENT_RESET_SOUNDS, EVENT_DISPLAY_NOTIFICATION, EVENT_CHANGE_NAVBAR_COLOR, EVENT_RESET_NAVBAR_COLOR, EVENT_DISPLAY_MODAL, EVENT_REMOVE_MODAL, EVENT_USER_JOIN_ROOM, EVENT_USER_LEAVE_ROOM, EVENT_PARTICIPANT_JOIN_ROOM, EVENT_PARTICIPANT_LEAVE_ROOM, EVENT_IGNORE_CALL, EVENT_ON_NEW_SESSION, EVENT_UPDATE_BADGE, EVENT_ON_CONNECTED_TO_STACK, EVENT_ON_SWITCH_STACK_TENANT, EVENT_CHANGE_TOOLBAR_DISPLAY, EVENT_MOBILE_HEADER, EVENT_MOBILE_CONTEXTUAL_MENU, EVENT_MOBILE_SHOW_BOTTOM_NAV, EVENT_MOBILE_ON_MENU_ACTION, EVENT_MOBILE_ON_HEADER_BACK, } from './constants.js';\nconst initializationTimeoutInMs = 5000;\nexport class App {\n    constructor() {\n        // Global\n        this.onNewSession = (session) => { };\n        this.onUnLoaded = (e) => { };\n        this.onPluginUnLoaded = () => { };\n        this.onAppUnLoaded = (tabId) => { };\n        this.onIframeMessage = (message) => { };\n        this.onBackgroundMessage = (message) => { };\n        // WDA\n        this.onLogout = () => { };\n        this.onCallIncoming = (call) => { };\n        this.onCallMade = (call) => { };\n        this.onCallAnswered = (call) => { };\n        this.onCallAccepted = (call) => { };\n        this.onCallHungUp = (call) => { };\n        this.onUnHandledEvent = (event) => { };\n        this.onWebsocketMessage = (message) => { };\n        this.onMeetingCreated = (meeting) => { };\n        this.onRouteChanged = (location, action) => { };\n        this.onUserJoinRoom = (room) => { };\n        this.onUserLeaveRoom = (room) => { };\n        this.onParticipantJoinRoom = (room, participant) => { };\n        this.onParticipantLeaveRoom = (room, participant) => { };\n        // Portal\n        this.onConnectedToStack = (stackSession) => { };\n        this.onSwitchTenant = (uuid, name) => { };\n        this.initialize = async () => {\n            if (this.isInitialized()) {\n                return Promise.resolve();\n            }\n            window.addEventListener('message', this._onMessage, false);\n            return new Promise((resolve, reject) => {\n                this._sendMessage(EVENT_APP_INITIALIZE, { bg: this._isBackground, pluginId: this._pluginId });\n                this._initializeTimeout = setTimeout(() => {\n                    this._initializeTimeout = null;\n                    reject('SDK initialize timeout');\n                }, initializationTimeoutInMs);\n                this._initializeResolve = resolve;\n            });\n        };\n        this.isInitialized = () => {\n            return this._initializeCompleted;\n        };\n        // Global\n        this.getContext = () => this.context;\n        this.sendMessageToIframe = (payload) => this._sendMessage(EVENT_SEND_IFRAME_MESSAGE, { payload });\n        this.sendMessageToBackground = (payload) => this._sendMessage(EVENT_SEND_BACKGROUND_MESSAGE, { payload });\n        // WDA\n        this.startCall = ({ targets, requestedModalities = ['audio'] }) => {\n            this._sendMessage(EVENT_START_CALL, { targets, requestedModalities });\n        };\n        this.openLink = (url) => {\n            this._sendMessage(EVENT_OPEN_LINK, { url });\n        };\n        this.createMeeting = (name, requireAuthorization = false, persistent = false) => {\n            this._sendMessage(EVENT_CREATE_MEETING, { name, requireAuthorization, persistent });\n        };\n        this.openMeetingLobby = (extension) => {\n            this._sendMessage(EVENT_OPEN_MEETING_LOBBY, { extension });\n        };\n        this.openSettings = () => {\n            // @TODO: Fix it in WDA\n            // this._sendMessage(EVENT_OPEN_SETTINGS);\n        };\n        this.closeLeftPanel = () => this._sendMessage(EVENT_CLOSE_LEFT_PANEL);\n        this.openLeftPanel = () => this._sendMessage(EVENT_OPEN_LEFT_PANEL);\n        this.playProgressSound = () => this._sendMessage(EVENT_PLAY_PROGRESS_SOUND);\n        this.playNewMessageSound = () => this._sendMessage(EVENT_PLAY_NEW_MESSAGE_SOUND);\n        this.playIncomingCallSound = () => this._sendMessage(EVENT_PLAY_INCOMING_CALL_SOUND);\n        this.playDoubleCallSound = () => this._sendMessage(EVENT_PLAY_DOUBLE_CALL_SOUND);\n        this.playHangupSound = () => this._sendMessage(EVENT_PLAY_HANGUP_SOUND);\n        this.stopCurrentSound = () => this._sendMessage(EVENT_STOP_CURRENT_SOUND);\n        this.configureSounds = (sounds) => this._sendMessage(EVENT_CONFIGURE_SOUNDS, { sounds });\n        this.resetSounds = () => this._sendMessage(EVENT_RESET_SOUNDS);\n        this.changeNavBarColor = (color) => this._sendMessage(EVENT_CHANGE_NAVBAR_COLOR, { color });\n        this.resetNavBarColor = () => this._sendMessage(EVENT_RESET_NAVBAR_COLOR);\n        this.displayNotification = (title, text) => this._sendMessage(EVENT_DISPLAY_NOTIFICATION, { title, text });\n        this.displayModal = ({ url, title, text, htmlText, height, width }) => this._sendMessage(EVENT_DISPLAY_MODAL, { url, title, text, htmlText, height, width });\n        this.removeModal = () => this._sendMessage(EVENT_REMOVE_MODAL);\n        this.hasLocalVideoStream = (call) => Wazo.Phone.phone.hasALocalVideoTrack(call);\n        this.getLocalCurrentVideoStream = (call) => Wazo.Phone.phone.getLocalVideoStream(call);\n        this.hasRemoveVideoStream = (call) => Wazo.Phone.phone.hasRemoteVideo(call);\n        this.getRemoteVideoStream = (call) => Wazo.Phone.phone.getRemoteVideoStream(call);\n        this.updateBadge = (args) => this._sendMessage(EVENT_UPDATE_BADGE, { ...args, entityId: args.entityId || this._entityId || 'update-badge-null-entity-id' });\n        // Portal\n        this.changeToolbarDisplay = (display) => this._sendMessage(EVENT_CHANGE_TOOLBAR_DISPLAY, { display });\n        // App to Mobile\n        this.setMobileHeader = ({ title, callback }, entityId) => {\n            const id = entityId || this._entityId;\n            if (id) {\n                delete this._headerBackCallbacks[id];\n                if (typeof callback === 'function') {\n                    this._headerBackCallbacks[id] = callback;\n                }\n            }\n            this._sendMessage(EVENT_MOBILE_HEADER, {\n                headerTitle: title,\n                emitHeaderBack: !!callback,\n                entityId: entityId || this._entityId,\n            });\n        };\n        // @WIP\n        this.setMobileContextualMenu = (contextualMenu, entityId) => this._sendMessage(EVENT_MOBILE_CONTEXTUAL_MENU, { contextualMenu, entityId: entityId || this._entityId });\n        // @WIP\n        this.setMobileShowBottomNav = (showBottomNav, entityId) => this._sendMessage(EVENT_MOBILE_SHOW_BOTTOM_NAV, { showBottomNav, entityId: entityId || this._entityId });\n        // Mobile to app\n        // @WIP\n        this.onMobileMenuAction = (id) => this.sendMessageToIframe({ type: EVENT_MOBILE_ON_MENU_ACTION, id });\n        this._onMessage = (event) => {\n            if (!event.data) {\n                return;\n            }\n            switch (event.data.type) {\n                // Global\n                case EVENT_ON_LOADED:\n                    this._onLoaded(event.data.session, event.data.theme, event.data.locale, event.data.extra);\n                    break;\n                case EVENT_APP_UNLOADED:\n                    delete this._headerBackCallbacks[event.data.tabId];\n                    this.onAppUnLoaded(event.data.tabId);\n                    break;\n                case EVENT_PLUGIN_UNLOADED:\n                    this._unloadPlugin();\n                    break;\n                case EVENT_ON_LOGOUT:\n                    this.onLogout();\n                    this._unloadPlugin();\n                    break;\n                case EVENT_ON_NEW_SESSION:\n                    this.onNewSession(event.data.session);\n                    break;\n                case EVENT_ON_IFRAME_MESSAGE:\n                    if (event.data._pluginId === this._pluginId) {\n                        this.onIframeMessage(event.data.payload);\n                    }\n                    break;\n                case EVENT_ON_BACKGROUND_MESSAGE:\n                    if (event.data._pluginId === this._pluginId) {\n                        this.onBackgroundMessage(event.data.payload);\n                    }\n                    break;\n                case EVENT_USER_JOIN_ROOM:\n                    this.onUserJoinRoom(event.data.room);\n                    break;\n                case EVENT_USER_LEAVE_ROOM:\n                    this.onUserLeaveRoom(event.data.room);\n                    break;\n                case EVENT_PARTICIPANT_JOIN_ROOM:\n                    this.onParticipantJoinRoom(event.data.room, event.data.participant);\n                    break;\n                case EVENT_PARTICIPANT_LEAVE_ROOM:\n                    this.onParticipantLeaveRoom(event.data.room, event.data.participant);\n                    break;\n                // WDA\n                case EVENT_WS_MESSAGE:\n                    this.onWebsocketMessage(event.data.message);\n                    break;\n                case EVENT_ON_MEETING_CREATED:\n                    this.onMeetingCreated(event.data.meeting);\n                    break;\n                case EVENT_ROUTE_CHANGE:\n                    this.onRouteChanged(event.data.location, event.data.action);\n                    break;\n                case EVENT_ON_CALL_INCOMING:\n                    this.onCallIncoming(event.data.call);\n                    break;\n                case EVENT_ON_CALL_MADE:\n                    this.onCallMade(event.data.call);\n                    break;\n                case EVENT_ON_CALL_ANSWERED:\n                    this.onCallAnswered(event.data.call);\n                    break;\n                case EVENT_ON_CALL_ACCEPTED:\n                    this.onCallAccepted(event.data.call);\n                    break;\n                case EVENT_ON_CALL_HUNG_UP:\n                    this.onCallHungUp(event.data.call);\n                    break;\n                // Portal\n                case EVENT_ON_CONNECTED_TO_STACK:\n                    this.onConnectedToStack(event.data.stackSession);\n                    break;\n                case EVENT_ON_SWITCH_STACK_TENANT:\n                    this.onSwitchTenant(event.data.tenant.uuid, event.data.tenant.name);\n                    break;\n                // Mobile\n                case EVENT_MOBILE_ON_HEADER_BACK:\n                    const action = this._headerBackCallbacks[event.data.entityId || this._entityId];\n                    if (typeof action === 'function') {\n                        action();\n                    }\n                    break;\n                case EVENT_MOBILE_ON_MENU_ACTION:\n                    this.onMobileMenuAction(event.data);\n                    break;\n                default:\n                    this.onUnHandledEvent(event);\n                    break;\n            }\n        };\n        this._sendMessage = (type, payload = {}) => {\n            if (!this.isInitialized() && type !== EVENT_APP_INITIALIZE) {\n                this._queuedMessages.push({ type, payload });\n                return;\n            }\n            // @ts-ignore\n            if (window.ReactNativeWebView) {\n                // @ts-ignore (Mobile)\n                return window.ReactNativeWebView.postMessage(JSON.stringify({ type, _pluginId: this._pluginId, _entityId: this._entityId, ...payload }));\n            }\n            window.parent.postMessage({ type, _pluginId: this._pluginId, _entityId: this._entityId, ...payload }, '*');\n        };\n        this._sendQueuedMessages = () => {\n            this._queuedMessages.forEach(({ type, payload }) => {\n                this._sendMessage(type, payload);\n            });\n        };\n        this._onLoaded = (session, theme, locale, extra) => {\n            if (this._initializeTimeout === null || this.isInitialized()) {\n                return;\n            }\n            clearTimeout(this._initializeTimeout);\n            this._initializeCompleted = true;\n            this.context.app = {\n                locale,\n                theme,\n                host: {\n                    clientType: extra ? extra.clientType : null,\n                },\n                extra: {\n                    ...extra,\n                    baseUrl: this._baseUrl,\n                    pluginId: this._pluginId,\n                },\n            };\n            this.context.user = session;\n            if (this._initializeResolve) {\n                this._initializeResolve();\n            }\n            this._sendQueuedMessages();\n        };\n        // Deprecated, we should use `_configurePlugin` instead\n        this._setPluginId = (pluginId) => {\n            this._pluginId = pluginId;\n        };\n        this._unloadPlugin = () => {\n            this.onPluginUnLoaded();\n            this._resetEvents();\n        };\n        this._configurePlugin = (configuration) => {\n            if (configuration.pluginId) {\n                this._pluginId = configuration.pluginId;\n            }\n            if (configuration.baseUrl) {\n                this._baseUrl = configuration.baseUrl;\n            }\n            if (configuration.entityId) {\n                this._entityId = configuration.entityId;\n            }\n        };\n        this._resetEvents = () => {\n            this.onUnLoaded = (e) => { };\n            this.onPluginUnLoaded = () => { };\n            this.onAppUnLoaded = (tabId) => { };\n            this.onIframeMessage = (message) => { };\n            this.onBackgroundMessage = (message) => { };\n            // WDA\n            this.onLogout = () => { };\n            this.onNewSession = (session) => { };\n            this.onCallIncoming = (call) => { };\n            this.onCallMade = (call) => { };\n            this.onCallAnswered = (call) => { };\n            this.onCallAccepted = (call) => { };\n            this.onCallHungUp = (call) => { };\n            this.onUnHandledEvent = (event) => { };\n            this.onWebsocketMessage = (message) => { };\n            this.onMeetingCreated = (meeting) => { };\n            this.onRouteChanged = (location, action) => { };\n            // Portal\n            this.onConnectedToStack = (stackSession) => { };\n            this.onSwitchTenant = (uuid, name) => { };\n        };\n        this._resetEvents();\n        this._initializeCompleted = false;\n        this._initializeResolve = null;\n        this._initializeTimeout = null;\n        this._pluginId = null;\n        this._baseUrl = null;\n        this._entityId = null;\n        this._isBackground = !window.name;\n        this._queuedMessages = [];\n        this._headerBackCallbacks = {};\n        this.context = {\n            app: {\n                locale: null,\n                theme: null,\n                host: {\n                    clientType: null,\n                },\n                extra: null,\n            },\n        };\n        // Can't be simplified as `window.onunload = this.onUnLoaded`\n        // because `this.onUnLoaded` might not have been overridden by the module yet.\n        window.onunload = (e) => {\n            this.onUnLoaded(e);\n        };\n        // Used to fetch pluginId when loaded in an iframe\n        if (window.name) {\n            try {\n                // Is window.name a valid JSON ?\n                this._configurePlugin(JSON.parse(window.name));\n            }\n            catch (_) {\n                // Deprecated way to do it, remove it in future version\n                this._configurePlugin({ pluginId: window.name });\n            }\n        }\n        // deprecated: Used in background script, we expose a global method to be used in the <script> tag directly after importing the backgroundScript url\n        globalThis._setPluginId = this._setPluginId;\n        globalThis._configurePlugin = this._configurePlugin;\n    }\n    ignoreCall(call) {\n        this._sendMessage(EVENT_IGNORE_CALL, { call });\n    }\n}\n// @deprecated: can conflict with other app when using the instance directly\nexport default new App();\n","/* eslint-disable no-unused-vars */\n/* global window, document */\nimport EventEmitter from 'events';\nconst BRIDGE_CONFIG_RETRIEVED = 'bridge/CONFIG_RETRIEVED';\nconst BRIDGE_LOGGED_OUT = 'bridge/LOGGED_OUT';\nconst BRIDGE_CREATE_OR_UPDATE_CARD = 'bridge/BRIDGE_CREATE_OR_UPDATE_CARD';\nconst BRIDGE_OPTIONS_FETCHED = 'bridge/BRIDGE_OPTIONS_FETCHED';\nconst BRIDGE_OPTIONS_FOUND = 'bridge/BRIDGE_OPTIONS_FOUND';\nconst BRIDGE_SEARCH_OPTIONS = 'bridge/BRIDGE_SEARCH_OPTIONS';\nconst BRIDGE_DISPLAY_LINKED_OPTION = 'bridge/DISPLAY_LINKED_OPTION';\nconst BRIDGE_UPDATE_FORM_SCHEMA = 'bridge/BRIDGE_UPDATE_FORM_SCHEMA';\nconst BRIDGE_WAZO_CONTACT_SEARCH = 'bridge/BRIDGE_WAZO_CONTACT_SEARCH';\nconst BRIDGE_ON_AGENT_LOGGED_IN = 'bridge/BRIDGE_ON_AGENT_LOGGED_IN';\nconst BRIDGE_ON_AGENT_LOGGED_OUT = 'bridge/BRIDGE_ON_AGENT_LOGGED_OUT';\nconst BRIDGE_ON_AGENT_PAUSED = 'bridge/BRIDGE_ON_AGENT_PAUSED';\nconst BRIDGE_ON_AGENT_RESUMED = 'bridge/BRIDGE_ON_AGENT_RESUMED';\nconst BRIDGE_ON_LANGUAGE_CHANGED = 'bridge/BRIDGE_ON_LANGUAGE_CHANGED';\nconst BRIDGE_ON_CALL_LOCALLY_ACCEPTED = 'bridge/BRIDGE_ON_CALL_LOCALLY_ACCEPTED';\nconst BRIDGE_ON_CALL_REJECTED = 'bridge/BRIDGE_ON_CALL_REJECTED';\nconst BRIDGE_ON_CALL_ESTABLISHED = 'bridge/BRIDGE_ON_CALL_ESTABLISHED';\nconst BRIDGE_ON_CALL_HELD = 'bridge/BRIDGE_ON_CALL_HELD';\nconst BRIDGE_ON_CALL_RESUMED = 'bridge/BRIDGE_ON_CALL_RESUMED';\nconst BRIDGE_ON_CALL_MUTED = 'bridge/BRIDGE_ON_CALL_MUTED';\nconst BRIDGE_ON_CALL_UN_MUTED = 'bridge/BRIDGE_ON_CALL_UN_MUTED';\nconst BRIDGE_ON_DTMF = 'bridge/BRIDGE_ON_DTMF';\nconst BRIDGE_ON_DIRECT_TRANSFER = 'bridge/BRIDGE_ON_DIRECT_TRANSFER';\nconst BRIDGE_ON_CREATE_INDIRECT_TRANSFER = 'bridge/BRIDGE_ON_CREATE_INDIRECT_TRANSFER';\nconst BRIDGE_ON_CANCEL_INDIRECT_TRANSFER = 'bridge/BRIDGE_ON_CANCEL_INDIRECT_TRANSFER';\nconst BRIDGE_ON_CONFIRM_INDIRECT_TRANSFER = 'bridge/BRIDGE_ON_CONFIRM_INDIRECT_TRANSFER';\nconst BRIDGE_ON_INDIRECT_TRANSFER_CALL_MADE = 'bridge/BRIDGE_ON_INDIRECT_TRANSFER_CALL_MADE';\nconst BRIDGE_ON_INDIRECT_TRANSFER_DONE = 'bridge/BRIDGE_ON_INDIRECT_TRANSFER_DONE';\nconst BRIDGE_ON_START_RECORDING = 'bridge/BRIDGE_ON_START_RECORDING';\nconst BRIDGE_ON_STOP_RECORDING = 'bridge/BRIDGE_ON_STOP_RECORDING';\nconst BRIDGE_ON_CARD_CANCELED = 'bridge/BRIDGE_ON_CARD_CANCELED';\nconst BRIDGE_ENABLE_AGENT = 'bridge/BRIDGE_ENABLE_AGENT';\nconst BRIDGE_SET_CARD_CONTENT = 'bridge/BRIDGE_SET_CARD_CONTENT';\nconst BRIDGE_ENABLE_DEBUG = 'bridge/BRIDGE_ENABLE_DEBUG';\nconst BRIDGE_CALL_LOG_CREATED = 'bridge/BRIDGE_CALL_LOG_CREATED';\nconst BRIDGE_ON_WEBSOCKET_MESSAGE = 'bridge/BRIDGE_ON_WEBSOCKET_MESSAGE';\nconst BRIDGE_LOGIN_WITH_TOKEN = 'bridge/BRIDGE_LOGIN_WITH_TOKEN';\nconst BRIDGE_ON_CLICK_TO_CALL = 'bridge/ON_CLICK_TO_CALL';\nconst BRIDGE_INJECT_CSS = 'bridge/BRIDGE_INJECT_CSS';\nconst BRIDGE_CUSTOMIZE_APPEARANCE = 'bridge/BRIDGE_CUSTOMIZE_APPEARANCE';\nconst SDK_ON_OUTGOING_CALL_MADE = 'sdk/SDK_ON_OUTGOING_CALL_MADE';\nconst SDK_CALL_ENDED = 'sdk/ON_CALL_ENDED';\nconst SDK_CALL_INCOMING = 'sdk/SDK_CALL_INCOMING';\nconst SDK_AUTHENTICATED = 'sdk/SDK_AUTHENTICATED';\n// Events\nexport const SHOW = 'show';\nexport const HIDE = 'hide';\nclass Softphone extends EventEmitter {\n    constructor() {\n        super(...arguments);\n        this.url = 'https://softphone.wazo.io';\n        this.width = 500;\n        this.height = 600;\n        this.iframeCss = { left: 0, bottom: 0 };\n        this.displayed = false;\n        this.wrapper = null;\n        this.iframe = null;\n        this.iframeLoaded = false;\n        this.session = null;\n        // Message waiting for the iframe to be loaded\n        this._pendingMessages = [];\n    }\n    onLinkEnabled(link) { }\n    onIFrameLoaded() { }\n    onCallLocallyAnswered(call) { }\n    onCallEstablished(call) { }\n    onOutgoingCallMade(call) { }\n    onCallIncoming(call) { }\n    onCallRejected(call) { }\n    onCallEnded(call, card, direction, fromExtension) { }\n    onCardSaved(card) { }\n    onCardCanceled() { }\n    onAuthenticated(session) { }\n    onLoggedOut() { }\n    onSearchOptions(fieldId, query) {\n        this.onOptionsResults(fieldId, []);\n    }\n    onDisplayLinkedOption(optionId) { }\n    onWazoContactSearch(query) { }\n    onAgentLoggedIn() { }\n    onAgentLoggedOut() { }\n    onAgentPaused() { }\n    onAgentResumed() { }\n    onLanguageChanged(language) { }\n    onCallHeld() { }\n    onCallResumed() { }\n    onCallMuted() { }\n    onCallUnMuted() { }\n    onDtmfSent(tone) { }\n    onDirectTransfer(number) { }\n    onCreateIndirectTransfer(number) { }\n    onCancelIndirectTransfer() { }\n    onConfirmIndirectTransfer() { }\n    onIndirectCallMade(call) { }\n    onIndirectTransferDone(call) { }\n    onStartRecording() { }\n    onStopRecording() { }\n    onCallLogCreated(callLog) { }\n    onWebsocketMessage(message) { }\n    onUnHandledEvent(event) { }\n    init({ url, width, height, server, port, language, wrapUpDuration, iframeCss, enableAgent = true, tenantId, domainName, debug = false, disableAutoLogin = false, }) {\n        this.url = url || this.url;\n        this.width = width || this.width;\n        this.height = height || this.height;\n        this.iframeCss = iframeCss || this.iframeCss;\n        this.displayed = false;\n        this.iframeLoaded = false;\n        this.iframeLoaded = false;\n        this._pendingMessages = [];\n        window.addEventListener('message', this._onMessage.bind(this), false);\n        if (!server) {\n            throw new Error('`server` is not set');\n        }\n        const config = { server, disableAutoLogin };\n        if (language) {\n            config.language = language;\n        }\n        if (port) {\n            config.port = port;\n        }\n        if (tenantId) {\n            console.warn('Use of `tenantId` is deprecated when calling `Softphone.init()`, use `domainName` instead');\n            config.tenantId = tenantId;\n        }\n        if (domainName) {\n            config.domainName = domainName;\n        }\n        if (wrapUpDuration) {\n            config.wrapUpDuration = wrapUpDuration;\n        }\n        this._sendMessage(BRIDGE_CONFIG_RETRIEVED, { config });\n        if (enableAgent) {\n            this._sendMessage(BRIDGE_ENABLE_AGENT);\n        }\n        if (debug) {\n            this._sendMessage(BRIDGE_ENABLE_DEBUG);\n        }\n        this._createIframe(() => {\n            this.iframeLoaded = true;\n            this._pendingMessages.forEach(([type, payload]) => this._sendMessage(type, payload));\n            this.onIFrameLoaded();\n        });\n    }\n    parseLinks() {\n        const links = this._getLinks();\n        links.forEach((link) => {\n            link.setAttribute('data-wazo-parsed', 'true');\n            link.addEventListener('click', this._onLinkClick.bind(this));\n            this.onLinkEnabled(link);\n        });\n    }\n    removeParsedLinksEvent() {\n        [].slice.call(document.querySelectorAll('a[data-wazo-parsed]'), 0).forEach((link) => {\n            link.removeAttribute('data-wazo-parsed');\n            link.removeEventListener('click', this._onLinkClick.bind(this));\n        });\n    }\n    makeCall(number) {\n        this.show();\n        this._sendMessage(BRIDGE_ON_CLICK_TO_CALL, { number });\n    }\n    toggleDisplay() {\n        if (this.displayed) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    }\n    show() {\n        if (!this.iframe) {\n            this._createIframe();\n        }\n        if (this.iframe) {\n            this.iframe.style.display = 'block';\n        }\n        this.displayed = true;\n        this.emit(SHOW);\n    }\n    hide() {\n        if (this.iframe) {\n            this.iframe.style.display = 'none';\n        }\n        this.displayed = false;\n        this.emit(HIDE);\n    }\n    remove() {\n        if (this.iframe) {\n            this.iframe.remove();\n        }\n        if (this.wrapper) {\n            this.wrapper.remove();\n        }\n        this.iframe = null;\n        this.wrapper = null;\n    }\n    optionsFetched(fieldId, options) {\n        this._sendMessage(BRIDGE_OPTIONS_FETCHED, { fieldId, options });\n    }\n    onOptionsResults(fieldId, options) {\n        this._sendMessage(BRIDGE_OPTIONS_FOUND, { fieldId, options });\n    }\n    setFormSchema(schema, uiSchema) {\n        this._sendMessage(BRIDGE_UPDATE_FORM_SCHEMA, { schema, uiSchema });\n    }\n    setCardValue(field, value) {\n        this._sendMessage(BRIDGE_SET_CARD_CONTENT, { field, value });\n    }\n    injectCss(css) {\n        this._sendMessage(BRIDGE_INJECT_CSS, { css });\n    }\n    customizeAppearance(themes, translations, assets) {\n        this._sendMessage(BRIDGE_CUSTOMIZE_APPEARANCE, { themes, translations, assets });\n    }\n    loginWithToken(token, refreshToken) {\n        this._sendMessage(BRIDGE_LOGIN_WITH_TOKEN, { token, refreshToken });\n    }\n    configureServer(server) {\n        this._sendMessage(BRIDGE_CONFIG_RETRIEVED, { config: { server } });\n    }\n    updateCss(iframeCss = null) {\n        if (!iframeCss) {\n            return;\n        }\n        if (this.wrapper) {\n            Object.keys(iframeCss).forEach(key => {\n                // @ts-ignore: fix CSS key here\n                this.wrapper.style[key] = iframeCss[key];\n            });\n        }\n        this.iframeCss = iframeCss;\n    }\n    _createIframe(cb) {\n        // Remove iframe before creating it.\n        this.remove();\n        this.wrapper = document.createElement('div');\n        this.wrapper.id = 'iframe-wrapper';\n        this.wrapper.style.position = 'fixed';\n        this.updateCss(this.iframeCss);\n        this.iframe = document.createElement('iframe');\n        this.iframe.width = String(this.width);\n        this.iframe.height = String(this.height);\n        this.iframe.allow = 'camera *; microphone *; autoplay *; display-capture *';\n        this.iframe.style.border = '1px solid #aaa';\n        this.iframe.style.backgroundColor = 'white';\n        this.iframe.style.display = 'none';\n        this.iframe.src = this.url;\n        this.iframe.id = 'wazo-softphone';\n        if (cb) {\n            this.iframe.onload = cb;\n        }\n        this.wrapper.appendChild(this.iframe);\n        document.body.appendChild(this.wrapper);\n    }\n    _getLinks() {\n        return [].slice.call(document.querySelectorAll('a:not([data-wazo-parsed])'), 0)\n            .filter((link) => link.href.indexOf('tel:') === 0 || link.href.indexOf('callto:') === 0);\n    }\n    _onLinkClick(e) {\n        e.preventDefault();\n        const number = e.target.href.split('//')[1];\n        this.makeCall(number);\n    }\n    _onAuthenticated(session) {\n        this.session = session;\n        this.parseLinks();\n    }\n    _onMessage(event) {\n        if (!event.data) {\n            return;\n        }\n        switch (event.data.type) {\n            case SDK_ON_OUTGOING_CALL_MADE:\n                this.onOutgoingCallMade(event.data.callSession);\n                break;\n            case SDK_CALL_ENDED: {\n                const { callSession, content, direction, userExtension } = event.data;\n                this.onCallEnded(callSession, content, direction, userExtension);\n                break;\n            }\n            case SDK_CALL_INCOMING:\n                this.onCallIncoming(event.data.callSession);\n                break;\n            case SDK_AUTHENTICATED:\n                this._onAuthenticated(event.data.session);\n                this.onAuthenticated(event.data.session);\n                break;\n            case BRIDGE_LOGGED_OUT:\n                this.onLoggedOut();\n                break;\n            case BRIDGE_CREATE_OR_UPDATE_CARD: {\n                const { content } = event.data;\n                this.onCardSaved(content);\n                break;\n            }\n            case BRIDGE_SEARCH_OPTIONS: {\n                const { fieldId, query } = event.data;\n                this.onSearchOptions(fieldId, query);\n                break;\n            }\n            case BRIDGE_DISPLAY_LINKED_OPTION:\n                this.onDisplayLinkedOption(event.data.linkedOptionId);\n                break;\n            case BRIDGE_WAZO_CONTACT_SEARCH:\n                this.onWazoContactSearch(event.data.query);\n                break;\n            case BRIDGE_ON_AGENT_LOGGED_IN:\n                this.onAgentLoggedIn();\n                break;\n            case BRIDGE_ON_AGENT_LOGGED_OUT:\n                this.onAgentLoggedOut();\n                break;\n            case BRIDGE_ON_AGENT_PAUSED:\n                this.onAgentPaused();\n                break;\n            case BRIDGE_ON_AGENT_RESUMED:\n                this.onAgentResumed();\n                break;\n            case BRIDGE_ON_LANGUAGE_CHANGED:\n                this.onLanguageChanged(event.data.language);\n                break;\n            case BRIDGE_ON_CALL_HELD:\n                this.onCallHeld();\n                break;\n            case BRIDGE_ON_CALL_RESUMED:\n                this.onCallResumed();\n                break;\n            case BRIDGE_ON_CALL_MUTED:\n                this.onCallMuted();\n                break;\n            case BRIDGE_ON_CALL_UN_MUTED:\n                this.onCallUnMuted();\n                break;\n            case BRIDGE_ON_DTMF:\n                this.onDtmfSent(event.data.tone);\n                break;\n            case BRIDGE_ON_DIRECT_TRANSFER:\n                this.onDirectTransfer(event.data.number);\n                break;\n            case BRIDGE_ON_CREATE_INDIRECT_TRANSFER:\n                this.onCreateIndirectTransfer(event.data.number);\n                break;\n            case BRIDGE_ON_CANCEL_INDIRECT_TRANSFER:\n                this.onCancelIndirectTransfer();\n                break;\n            case BRIDGE_ON_CONFIRM_INDIRECT_TRANSFER:\n                this.onConfirmIndirectTransfer();\n                break;\n            case BRIDGE_ON_INDIRECT_TRANSFER_CALL_MADE:\n                this.onIndirectCallMade(event.data.call);\n                break;\n            case BRIDGE_ON_INDIRECT_TRANSFER_DONE:\n                this.onIndirectTransferDone(event.data.call);\n                break;\n            case BRIDGE_ON_START_RECORDING:\n                this.onStartRecording();\n                break;\n            case BRIDGE_ON_STOP_RECORDING:\n                this.onStopRecording();\n                break;\n            case BRIDGE_ON_CARD_CANCELED:\n                this.onCardCanceled();\n                break;\n            case BRIDGE_ON_CALL_LOCALLY_ACCEPTED:\n                this.onCallLocallyAnswered(event.data.call);\n                break;\n            case BRIDGE_ON_CALL_REJECTED:\n                this.onCallRejected(event.data.call);\n                break;\n            case BRIDGE_ON_CALL_ESTABLISHED:\n                this.onCallEstablished(event.data.call);\n                break;\n            case BRIDGE_CALL_LOG_CREATED:\n                this.onCallLogCreated(event.data.callLog);\n                break;\n            case BRIDGE_ON_WEBSOCKET_MESSAGE:\n                this.onWebsocketMessage(event.data.message);\n                break;\n            default:\n                this.onUnHandledEvent(event);\n                break;\n        }\n    }\n    _sendMessage(type, payload = {}) {\n        if (!this.iframe || !this.iframeLoaded) {\n            this._pendingMessages.push([type, payload]);\n            return;\n        }\n        if (this.iframe && this.iframe.contentWindow) {\n            this.iframe.contentWindow.postMessage({ type, ...payload }, '*');\n        }\n    }\n}\nexport default new Softphone();\n","const consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(_ref => {\n        let [observer, numTimesAdded] = _ref;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(_ref2 => {\n        let [observer, numTimesAdded] = _ref2;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nfunction defer() {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n}\nconst lastOfPathSeparatorRegExp = /###/g;\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\n  }\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n  const stack = typeof path !== 'string' ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper()) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n}\nfunction setPath(object, path, newValue) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n}\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\nfunction deepFind(obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n}\nfunction getCleanedCode(code) {\n  if (code && code.indexOf('_') > 0) return code.replace('_', '-');\n  return code;\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (typeof key === 'string' && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false,\n      skipCopy: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    if (this.options.compatibilityAPI === 'v1') return {\n      ...{},\n      ...this.getResource(lng, ns)\n    };\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key === undefined || key === null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    return {\n      key,\n      namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys === undefined || keys === null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = resolved && resolved.usedKey || key;\n    const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = resType === '[object Array]';\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{\n                joinArrays: false,\n                ns: namespaces\n              }\n            });\n            if (copy[m] === deepKey) copy[m] = res[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n        ordinal: false\n      }) : '';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey && lastKey[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(options)\n        },\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (typeof keys === 'string') keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && typeof options.replace !== 'string';\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n      if (this.options.lowerCaseLng) {\n        p = p.map(part => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n      return p.join('-');\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nlet sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nlet _rulesPluralsTypes = {\n  1: function (n) {\n    return Number(n > 1);\n  },\n  2: function (n) {\n    return Number(n != 1);\n  },\n  3: function (n) {\n    return 0;\n  },\n  4: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function (n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function (n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function (n) {\n    return Number(n >= 2);\n  },\n  10: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function (n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function (n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function (n) {\n    return Number(n !== 0);\n  },\n  14: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function (n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function (n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nfunction createRules() {\n  const rules = {};\n  sets.forEach(set => {\n    set.lngs.forEach(l => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.shouldUseIntlApi()) {\n      try {\n        return new Intl.PluralRules(getCleanedCode(code === 'dev' ? 'en' : code), {\n          type: options.ordinal ? 'ordinal' : 'cardinal'\n        });\n      } catch (err) {\n        return;\n      }\n    }\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n    return rule && rule.numbers.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (!rule) {\n      return [];\n    }\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n    return rule.numbers.map(number => this.getSuffix(code, number, options));\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n    } else if (this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nfunction deepFindWithDefaults(data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const iOpts = options.interpolation;\n    this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n    this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n    this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n    this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n    this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n    this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp && existingRegExp.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    function handleHasOptions(key, inheritedOptions) {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      delete clonedOptions.defaultValue;\n      return key;\n    }\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && typeof value !== 'string') return value;\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nfunction parseFormatStr(formatStr) {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (!opt) return;\n        const [key, ...rest] = opt.split(':');\n        const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n}\nfunction createCachedFormatter(fn) {\n  const cache = {};\n  return function invokeFormatter(val, lng, options) {\n    const key = lng + JSON.stringify(options);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    const iOpts = options.interpolation;\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: false,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      let ret = {};\n      if (typeof args[1] === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n        const options = args[3] || args[2];\n        Object.keys(options).forEach(key => {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: value => value,\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n}\n\nfunction noop() {}\nfunction bindMemberFunctions(inst) {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (typeof options.ns === 'string') {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation\n      };\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = typeof language === 'string' ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    return this.translator && this.translator.translate(...arguments);\n  }\n  exists() {\n    return this.translator && this.translator.exists(...arguments);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'string') lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0);\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","import {\n  App\n} from '@wazo/euc-plugins-sdk';\nimport i18next from 'i18next';\nconst json = require('./manifest.json');\njson.backgroundScript = \"./background.js\";\n\nlet audio;\nlet url;\n\nexport const app = new App();\nconst ringElem = document.getElementById(\"ring\");\nconst playButton = document.getElementById(\"playButton\");\nconst stopButton = document.getElementById(\"stopButton\");\n\nconst options = {\n  \"original\": \"Reset to original\",\n  \"iphone.mp3\": \"Iphone\",\n  \"iphone6.mp3\": \"Iphone 6\",\n  \"landline1.wav\": \"Landline 1\",\n  \"landline2.wav\": \"Landline 2\",\n  \"marimba.wav\": \"Marimba 1\",\n  \"marimba.mp3\": \"Marimba 2\",\n  \"ring3.wav\": \"Ring 3\",\n  \"ring4.wav\": \"Ring 4\",\n  \"ring5.wav\": \"Ring 5\",\n  \"dark_side_ringtone.mp3\": \"Star Wars\",\n  \"bird2.mp3\": \"Bird\",\n  \"sf-oiseau-24.mp3\": \"Bird 1\",\n  \"oiseau2.mp3\": \"Bird 2\",\n  \"sf_oiseau_seul_01.mp3\": \"Bird 3\",\n  \"sf_oiseaux.mp3\": \"Bird 4\",\n  \"sf_canari.mp3\": \"Canary\",\n  \"zelda_lost_woods.mp3\": \"Zelda 1\",\n  \"hedwigs.mp3\": \"Harry Potter\",\n  \"lg_bubble.mp3\": \"Bubble\",\n  \"marimba.wav\": \"Marimba\",\n  \"stranger_things.mp3\": \"Stranger Things\",\n  \"breaking_bad.mp3\": \"Breaking Bad\",\n  \"huawei.mp3\": \"Huawei\",\n  \"lg_peanut.mp3\": \"Peanut\",\n  \"xylo.mp3\": \"Xylophone\"\n};\n\napp.onIframeMessage = (msg) => {\n  if (msg.ring) {\n    const ring = msg.ring.split(\"/\").pop();\n    ringElem.value = ring;\n  }\n}\n\nconst addOptionMenu = (options, idMenu) => {\n  const menu = document.getElementById(idMenu);\n\n  for (const option in options) {\n    const newOption = document.createElement(\"option\");\n    newOption.text = options[option];\n    newOption.value = option;\n    menu.add(newOption);\n  }\n}\n\nconst listenRingbackTone = (path) => {\n  audio = new Audio(path);\n  audio.play();\n}\n\nconst stopListenRingbackTone = () => {\n  if (audio) {\n    audio.pause();\n  }\n}\n\nconst addEventsListener = () => {\n  ring.addEventListener(\"change\", function() {\n    const ring = ringElem.value;\n    app.sendMessageToBackground({value: 'ring', data: ring});\n    stopListenRingbackTone();\n  });\n\n  playButton.addEventListener(\"click\", () => {\n    const ring = ringElem.value;\n    const path = `${url}/sounds/${ring}`;\n    stopListenRingbackTone();\n    listenRingbackTone(path);\n  });\n\n  stopButton.addEventListener(\"click\", () => {\n    stopListenRingbackTone();\n  });\n}\n\n(async() => {\n  await app.initialize();\n  const context = app.getContext();\n  const lang = context.app.locale;\n  url = context.app.extra.baseUrl;\n\n  addOptionMenu(options, \"ring\");\n  addEventsListener();\n\n  app.sendMessageToBackground({value: 'config'});\n\n  await i18next.init({\n    lng: lang,\n    fallbackLng: 'en',\n    debug: false,\n    resources: {\n      en: {\n        translation: {\n          \"choose_ring\": \"Select your ringtone\"\n        }\n      },\n      fr: {\n        translation: {\n          \"choose_ring\": \"Choisissez votre sonnerie\"\n        }\n      }\n    }\n  });\n\n  document.getElementById('choose-ring').innerHTML = i18next.t('choose_ring');\n})();\n"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","d","a","definition","o","g","globalThis","e","window","obj","prop","hasOwnProperty","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","test","replace","p","EVENT_APP_INITIALIZE","EVENT_MOBILE_ON_MENU_ACTION","App","constructor","onNewSession","session","onUnLoaded","onPluginUnLoaded","onAppUnLoaded","tabId","onIframeMessage","onBackgroundMessage","onLogout","onCallIncoming","onCallMade","onCallAnswered","onCallAccepted","onCallHungUp","onUnHandledEvent","event","onWebsocketMessage","onMeetingCreated","meeting","onRouteChanged","action","onUserJoinRoom","room","onUserLeaveRoom","onParticipantJoinRoom","participant","onParticipantLeaveRoom","onConnectedToStack","stackSession","onSwitchTenant","uuid","initialize","async","isInitialized","_onMessage","_sendMessage","bg","_isBackground","pluginId","_pluginId","_initializeTimeout","setTimeout","_initializeResolve","_initializeCompleted","getContext","sendMessageToIframe","payload","sendMessageToBackground","startCall","targets","requestedModalities","openLink","url","createMeeting","requireAuthorization","persistent","openMeetingLobby","extension","openSettings","closeLeftPanel","openLeftPanel","playProgressSound","playNewMessageSound","playIncomingCallSound","playDoubleCallSound","playHangupSound","stopCurrentSound","configureSounds","sounds","resetSounds","changeNavBarColor","color","resetNavBarColor","displayNotification","title","text","displayModal","htmlText","height","width","removeModal","hasLocalVideoStream","Wazo","Phone","phone","hasALocalVideoTrack","getLocalCurrentVideoStream","getLocalVideoStream","hasRemoveVideoStream","hasRemoteVideo","getRemoteVideoStream","updateBadge","entityId","_entityId","changeToolbarDisplay","display","setMobileHeader","callback","id","_headerBackCallbacks","headerTitle","emitHeaderBack","setMobileContextualMenu","contextualMenu","setMobileShowBottomNav","showBottomNav","onMobileMenuAction","data","_onLoaded","theme","locale","extra","_unloadPlugin","tenant","ReactNativeWebView","postMessage","JSON","stringify","parent","_queuedMessages","_sendQueuedMessages","forEach","clearTimeout","app","host","clientType","baseUrl","_baseUrl","user","_setPluginId","_resetEvents","_configurePlugin","configuration","onunload","parse","_","ignoreCall","BRIDGE_CONFIG_RETRIEVED","Softphone","super","iframeCss","left","bottom","displayed","wrapper","iframe","iframeLoaded","_pendingMessages","onLinkEnabled","link","onIFrameLoaded","onCallLocallyAnswered","onCallEstablished","onOutgoingCallMade","onCallRejected","onCallEnded","card","direction","fromExtension","onCardSaved","onCardCanceled","onAuthenticated","onLoggedOut","onSearchOptions","fieldId","query","onOptionsResults","onDisplayLinkedOption","optionId","onWazoContactSearch","onAgentLoggedIn","onAgentLoggedOut","onAgentPaused","onAgentResumed","onLanguageChanged","language","onCallHeld","onCallResumed","onCallMuted","onCallUnMuted","onDtmfSent","tone","onDirectTransfer","number","onCreateIndirectTransfer","onCancelIndirectTransfer","onConfirmIndirectTransfer","onIndirectCallMade","onIndirectTransferDone","onStartRecording","onStopRecording","onCallLogCreated","callLog","server","port","wrapUpDuration","enableAgent","tenantId","domainName","debug","disableAutoLogin","config","_createIframe","parseLinks","_getLinks","setAttribute","_onLinkClick","removeParsedLinksEvent","querySelectorAll","removeAttribute","makeCall","show","toggleDisplay","hide","style","remove","optionsFetched","options","setFormSchema","schema","uiSchema","setCardValue","field","injectCss","css","customizeAppearance","themes","translations","assets","loginWithToken","token","refreshToken","configureServer","updateCss","cb","createElement","allow","border","backgroundColor","onload","appendChild","body","filter","href","indexOf","preventDefault","split","_onAuthenticated","callSession","content","userExtension","linkedOptionId","contentWindow","consoleLogger","log","output","Logger","concreteLogger","prefix","logger","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","moduleName","clone","baseLogger","observers","Map","numListeners","delete","from","entries","_ref","observer","numTimesAdded","_ref2","defer","res","rej","promise","makeString","object","lastOfPathSeparatorRegExp","getLastOfPath","path","Empty","cleanKey","canNotTraverseDeeper","stack","stackIndex","k","setPath","newValue","last","getPath","deepExtend","source","overwrite","regexEscape","str","_entityMap","escape","s","chars","looksLikeObjectPathRegExpCache","capacity","regExpMap","regExpQueue","getRegExp","pattern","regExpFromCache","regExpNew","RegExp","deepFind","keySeparator","tokens","current","next","nextPath","j","getCleanedCode","code","ResourceStore","ns","defaultNS","ignoreJSONStructure","addNamespaces","removeNamespaces","splice","getResource","lng","isArray","result","join","addResource","silent","addResources","resources","toString","addResourceBundle","deep","skipCopy","pack","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","find","v","toJSON","postProcessor","processors","addPostProcessor","handle","translator","processor","process","checkedLoadedFor","Translator","services","t","changeLanguage","exists","interpolation","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","c","r","map","matched","ki","substring","looksLikeObjectPath","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","resType","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","shouldUseIntlApi","defaultValue","pluralSeparator","isValidLookup","resForMissing","missingKeyNoValueFallbackToKey","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","l","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nest","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","capitalize","string","charAt","toUpperCase","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","nonIntlVersions","intlVersions","suffixesOrder","zero","one","two","few","many","other","PluralResolver","compatibilityJSON","includes","Intl","PluralRules","rules","numbers","plurals","createRules","addRule","getRule","needsPlural","rule","resolvedOptions","pluralCategories","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","deepFindWithDefaults","defaultData","getPathWithDefaults","Interpolator","format","escapeValue","iOpts","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","lastIndex","regexp","regexpUnescape","replaces","regexSafe","val","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","regex","safeValue","todo","exec","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","createCachedFormatter","fn","cache","formatter","Formatter","formats","opt","NumberFormat","currency","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","ListFormat","add","addCached","mem","formatName","formatOptions","formatStr","optStr","rest","parseInt","parseFormatStr","formatted","valOptions","formatParams","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","queueLoad","languages","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","q","pushPath","removePending","done","loadedKeys","read","fcName","tried","wait","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","opts","initImmediate","preload","partialBundledLanguages","tDescription","transformOptions","noop","I18n","inst","modules","external","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","createInstance","cloneInstance","forkResourceStore","mergedOptions","instance","audio","require","backgroundScript","ringElem","getElementById","playButton","stopButton","msg","ring","stopListenRingbackTone","pause","lang","addOptionMenu","idMenu","menu","newOption","Audio","play","listenRingbackTone","i18next","en","translation","fr","innerHTML"],"sourceRoot":""}